// ==UserScript==
// @name         backpack_tf_idler
// @namespace    http://tampermonkey.net/
// @version      2024-01-20
// @downloadURL  https://github.com/Shmurdik/backpack_tf_idler/raw/main/backpack_tf_idler.user.js
// @updateURL	 https://github.com/Shmurdik/backpack_tf_idler/raw/main/backpack_tf_idler.user.js
// @description  description
// @author       Shmurdik
// @match        https://idler.backpack.tf/
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        none
// @require      https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js
// ==/UserScript==

function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

(function() {
    'use strict';
    //<div data-v-38251ee5="" class="picker__item-list"><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset idle item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="laptop icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Laptop <!----></div><div data-v-99eeae3e="" class="item__value">$127.15M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset idle item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="battlestation icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Battlestation <!----></div><div data-v-99eeae3e="" class="item__value">$602.25M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset idle item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="server icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Remote Server <!----></div><div data-v-99eeae3e="" class="item__value">$171.16M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset idle item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="supercomputer icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Supercomputer <!----></div><div data-v-99eeae3e="" class="item__value">$756.66M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset idle item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="datacentre icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Datacentre <!----></div><div data-v-99eeae3e="" class="item__value">$941.01M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset idle item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="quantumCluster icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Quantum Cluster <!----></div><div data-v-99eeae3e="" class="item__value">$873.05M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset idle item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="fusionReactor icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Fusion Reactor <!----></div><div data-v-99eeae3e="" class="item__value">$1.60B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset idle item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="summoningCircle icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Summoning Circle <!----></div><div data-v-99eeae3e="" class="item__value">$8.00B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset idle item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="replicator icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Replicator <!----></div><div data-v-99eeae3e="" class="item__value">$39.59B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset craft item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="cursor icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Cursor <!----></div><div data-v-99eeae3e="" class="item__value">$1.54B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset craft item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="hammer icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Hammer <!----></div><div data-v-99eeae3e="" class="item__value">$415.08M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset craft item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="forge icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Forge <!----></div><div data-v-99eeae3e="" class="item__value">$54.05M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset craft item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="workshop icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Workshop <!----></div><div data-v-99eeae3e="" class="item__value">$30.31M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset craft item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="factory icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Factory <!----></div><div data-v-99eeae3e="" class="item__value">$2.40B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset trade item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="steam icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Trade Bot <!----></div><div data-v-99eeae3e="" class="item__value">$10,240</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset trade item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="salesRep icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Sales Assistant <!----></div><div data-v-99eeae3e="" class="item__value">$614,400</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset trade item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="tradingPost icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Trading Post <!----></div><div data-v-99eeae3e="" class="item__value">$82.34M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset trade item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="bazaar icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Bazaar <!----></div><div data-v-99eeae3e="" class="item__value">$512.00M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset trade item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="outletStore icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Outlet Store <!----></div><div data-v-99eeae3e="" class="item__value">$3.60B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset sales item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="courier icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Courier <!----></div><div data-v-99eeae3e="" class="item__value">$456.42M</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset sales item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="mailTruck icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Mail Truck <!----></div><div data-v-99eeae3e="" class="item__value">$3.61B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset sales item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="hovercraft icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Hovercraft <!----></div><div data-v-99eeae3e="" class="item__value">$1.73B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset sales item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="semiTrailer icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Eighteen-Wheeler <!----></div><div data-v-99eeae3e="" class="item__value">$2.43B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset sales item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="cargoTrain icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Goods Train <!----></div><div data-v-99eeae3e="" class="item__value">$7.76B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset sales item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="cargoShip icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Freighter <!----></div><div data-v-99eeae3e="" class="item__value">$11.64B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset sales item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="cargoPlane icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Cargo Jet <!----></div><div data-v-99eeae3e="" class="item__value">$12.87B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset sales item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="hyperloop icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Hyperloop <!----></div><div data-v-99eeae3e="" class="item__value">$32.00B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div><div data-v-99eeae3e="" data-v-38251ee5=""><div data-v-f4753aed="" class="tooltip-trigger"><div data-v-99eeae3e="" class="asset sales item"><div data-v-99eeae3e="" class="item__left"><div data-v-99eeae3e="" class="item__icon"><div data-v-99eeae3e="" class="starship icon-48"></div></div><div data-v-99eeae3e="" class="item__info"><div data-v-99eeae3e="" class="item__name">Starship <!----></div><div data-v-99eeae3e="" class="item__value">$118.76B</div></div></div><div data-v-99eeae3e="" class="item__right"><div data-v-99eeae3e="" class="item__owns"></div></div></div></div><!----></div></div>
    //<div data-v-9e4a5cc1="" class="picker__card-list"><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-0 card" callback="e=>{e.emitUrgentTickerMessage({message:&quot;???&quot;,priority:&quot;mystic&quot;})}" canreverse="e=>e.has(&quot;tarotFoolUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-fool.png&quot;);"><div data-v-8f3b8972="" class="card__number">0</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Fool</div><div data-v-8f3b8972="" class="card__quote">Whoops</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">No effect.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-I card" callback="e=>{e.giveEffect(ue.find(t=>t.id===&quot;conjuror&quot;))}" canreverse="e=>e.has(&quot;tarotMagicianUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-magician.png&quot;);"><div data-v-8f3b8972="" class="card__number">I</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Magician</div><div data-v-8f3b8972="" class="card__quote">Infinite Possibilities</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Temporarily increase all bonus yields.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-II card" callback="e=>{e.grantVirtue(2*e.upgradesOwned().length)}" canreverse="e=>e.has(&quot;tarotHighPriestessUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-high-priestess.png&quot;);"><div data-v-8f3b8972="" class="card__number">II</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The High Priestess</div><div data-v-8f3b8972="" class="card__quote">Seek Knowledge</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Gain Virtue.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-III card" callback="e=>{e.giveEffect(ue.find(t=>t.id===&quot;hackedReversal&quot;))}" canreverse="e=>e.has(&quot;tarotEmpressUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-empress.png&quot;);"><div data-v-8f3b8972="" class="card__number">III</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Empress</div><div data-v-8f3b8972="" class="card__quote">Material Comforts</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Grant the Exclusivity effect.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-IV card" callback="e=>{e.giveEffect(ue.find(t=>t.id===&quot;idleBlock&quot;)),e.grantVirtue(e.getStat(&quot;pityVirtueBonus&quot;))}" bad="true" canreverse="e=>e.has(&quot;tarotEmperorUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-emperor.png&quot;);"><div data-v-8f3b8972="" class="card__number">IV</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Emperor</div><div data-v-8f3b8972="" class="card__quote">Appeal to Authority</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Trigger a Drop Freeze.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-V card" callback="e=>{e.giveEffect(ue.find(t=>t.id===&quot;charm&quot;))}" canreverse="e=>e.has(&quot;tarotHierophantUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-hierophant.png&quot;);"><div data-v-8f3b8972="" class="card__number">V</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Hierophant</div><div data-v-8f3b8972="" class="card__quote">Return to Tradition</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Grant the Trader's Charm effect.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-VI card" callback="e=>{Math.random()<.5?e.giveEffect(ue.find(t=>t.id===&quot;hatFrenzy&quot;)):e.giveEffect(ue.find(t=>t.id===&quot;crateFrenzy&quot;))}" reverse="[object Object]" canreverse="e=>e.has(&quot;tarotLoversUpgrade&quot;)" style="background-image: url(&quot;./tarot/the-lovers.png&quot;);"><div data-v-8f3b8972="" class="card__number">VI</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Lovers</div><div data-v-8f3b8972="" class="card__quote">Unity</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Trigger a Frenzy.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-VII card" callback="e=>{e.giveEffect(ue.find(t=>t.id===&quot;superSpeed&quot;))}" canreverse="e=>e.has(&quot;tarotChariotUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-chariot.png&quot;);"><div data-v-8f3b8972="" class="card__number">VII</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Chariot</div><div data-v-8f3b8972="" class="card__quote">Be unstoppable</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Increase speed.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-VIII card" callback="e=>{e.giveEffect(ue.find(t=>t.id===&quot;mightyStrength&quot;))}" canreverse="e=>e.has(&quot;tarotStrengthUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/strength.png&quot;);"><div data-v-8f3b8972="" class="card__number">VIII</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">Strength</div><div data-v-8f3b8972="" class="card__quote">May you have Strength</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Greatly increase clicking power.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-IX card" callback="e=>{e.giveEffect(ue.find(t=>t.id===&quot;hermitDiscount&quot;))}" reverse="[object Object]" canreverse="e=>e.has(&quot;tarotHermitUpgrade&quot;)" style="background-image: url(&quot;./tarot/the-hermit.png&quot;);"><div data-v-8f3b8972="" class="card__number">IX</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Hermit</div><div data-v-8f3b8972="" class="card__quote">Look within</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">10% discount on all purchases.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-X card" callback="e=>{cr(e,1e6)}" reverse="[object Object]" canreverse="e=>e.has(&quot;tarotWheelOfFortuneUpgrade&quot;)" style="background-image: url(&quot;./tarot/wheel-of-fortune.png&quot;);"><div data-v-8f3b8972="" class="card__number">X</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">Wheel of Fortune</div><div data-v-8f3b8972="" class="card__quote">Spin the wheel of fate</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Gain or lose a random yield.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XI card" callback="e=>{const t=[[&quot;cash&quot;,&quot;weapon&quot;],[&quot;key&quot;,&quot;metal&quot;]];Math.random()<.5?(e.addAmount(t[0][0],e.getAmount(t[0][0])*.1),e.addAmount(t[0][1],e.getAmount(t[0][1])*.1),e.subAmount(t[1][0],e.getAmount(t[1][0])*.1),e.subAmount(t[1][1],e.getAmount(t[1][1])*.1)):(e.subAmount(t[0][0],e.getAmount(t[0][0])*.1),e.subAmount(t[0][1],e.getAmount(t[0][1])*.1),e.addAmount(t[1][0],e.getAmount(t[1][0])*.1),e.addAmount(t[1][1],e.getAmount(t[1][1])*.1))}" reverse="[object Object]" canreverse="e=>e.has(&quot;tarotJusticeUpgrade&quot;)" style="background-image: url(&quot;./tarot/justice.png&quot;);"><div data-v-8f3b8972="" class="card__number">XI</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">Justice</div><div data-v-8f3b8972="" class="card__quote">Weighed with fairness</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Up two values by 10%, reduce two values by 10%.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XII card" callback="e=>{const t=Ve.filter(a=>a.type===&quot;asset&quot;&amp;&amp;e.getAmount(a.id)>1);if(t.length>0){const a=z(t);e.subAmount(a.id,1),e.emitUrgentTickerMessage({message:z([`Say goodbye to your ${a.name}`,`${a.name} gone; reduced to atoms`,`${a.name} simply perished!`]),priority:&quot;mystic&quot;}),e.grantVirtue(e.getStat(&quot;pityVirtueBonus&quot;))}else e.emitUrgentTickerMessage({message:&quot;You were so poor, the gods felt bad taking anything from you&quot;,priority:&quot;mystic&quot;})}" bad="true" canreverse="e=>e.has(&quot;tarotHangedManUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-hanged-man.png&quot;);"><div data-v-8f3b8972="" class="card__number">XII</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Hanged Man</div><div data-v-8f3b8972="" class="card__quote">Make a sacrifice</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Lose an asset.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XIII card" callback="e=>{Object.entries(Na).forEach(([t,a])=>{e.subAmount(t,Math.min(e.getAmount(t)*.5,e.getStat(a)*6e7))}),e.grantVirtue(e.getStat(&quot;pityVirtueBonus&quot;))}" bad="true" canreverse="e=>e.has(&quot;tarotDeathUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/death.png&quot;);"><div data-v-8f3b8972="" class="card__number">XIII</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">Death</div><div data-v-8f3b8972="" class="card__quote">Absolute devastation</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Lose an hour of progress.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XIV card" callback="e=>{e.giveEffect(ue.find(t=>t.id===&quot;snailSpeed&quot;)),e.grantVirtue(e.getStat(&quot;pityVirtueBonus&quot;))}" bad="true" canreverse="e=>e.has(&quot;tarotChariotUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/temperance.png&quot;);"><div data-v-8f3b8972="" class="card__number">XIV</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">Temperance</div><div data-v-8f3b8972="" class="card__quote">Embrace tranquility</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Speed decreased.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XV card" callback="e=>{const t=[];for(;t.length<2;){const a=e.tarot.pickCard();a.number===&quot;XV&quot;||t.length>0&amp;&amp;a===t[0]||t.push(a)}t.forEach(a=>{e.tarot.pushAndRollReverse(a)})}" canreverse="e=>e.has(&quot;tarotDevilUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-devil.png&quot;);"><div data-v-8f3b8972="" class="card__number">XV</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Devil</div><div data-v-8f3b8972="" class="card__quote">Succumb to addiction</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Draw two more cards.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XVI card" callback="e=>{e.triggerRandomEvent()}" canreverse="e=>e.has(&quot;tarotTowerUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-tower.png&quot;);"><div data-v-8f3b8972="" class="card__number">XVI</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Tower</div><div data-v-8f3b8972="" class="card__quote">Prepare for Disaster</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Trigger a random event.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XVII card" callback="e=>{e.crates.openCrate(!0)}" canreverse="e=>e.has(&quot;tarotStarUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-stars.png&quot;);"><div data-v-8f3b8972="" class="card__number">XVII</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Star</div><div data-v-8f3b8972="" class="card__quote">Seek the stars</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Unbox an Unusual.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XVIII card" callback="e=>{e.giveEffect(ue.find(t=>t.id===&quot;crateBug&quot;))}" canreverse="e=>e.has(&quot;tarotMoonUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-moon.png&quot;);"><div data-v-8f3b8972="" class="card__number">XVIII</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Moon</div><div data-v-8f3b8972="" class="card__quote">Find what you seek</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Trigger a Crate Bug.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XIX card" callback="e=>{Object.entries(Na).forEach(([t,a])=>{e.addAmount(t,e.getStat(a)*6e4)})}" canreverse="e=>e.has(&quot;tarotSunUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-sun.png&quot;);"><div data-v-8f3b8972="" class="card__number">XIX</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The Sun</div><div data-v-8f3b8972="" class="card__quote">Praise the sun</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Receive a grand bonus.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XX card" callback="e=>{wn(e)}" canreverse="e=>e.has(&quot;tarotJudgmentUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/judgment.png&quot;);"><div data-v-8f3b8972="" class="card__number">XX</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">Judgment</div><div data-v-8f3b8972="" class="card__quote">Face reckoning</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Grant a random effect.</p><!----></div></div><div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XXI card" callback="e=>{const t=z(Ve.filter(a=>a.type===&quot;asset&quot;&amp;&amp;e.getAmount(a)>0));e.addAmount(t.id,1),e.emitUrgentTickerMessage({message:`New ${t.name} just appeared out of thin air`,priority:&quot;mystic&quot;})}" canreverse="e=>e.has(&quot;tarotWorldUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-world.png&quot;);"><div data-v-8f3b8972="" class="card__number">XXI</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The World</div><div data-v-8f3b8972="" class="card__quote">Harmony</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Receive a free random asset.</p><!----></div></div></div>
    //<div data-v-8f3b8972="" data-v-9e4a5cc1="" class="card-XXI card" callback="e=>{const t=z(Ve.filter(a=>a.type===&quot;asset&quot;&amp;&amp;e.getAmount(a)>0));e.addAmount(t.id,1),e.emitUrgentTickerMessage({message:`New ${t.name} just appeared out of thin air`,priority:&quot;mystic&quot;})}" canreverse="e=>e.has(&quot;tarotWorldUpgrade&quot;)" reverse="[object Object]" style="background-image: url(&quot;./tarot/the-world.png&quot;);"><div data-v-8f3b8972="" class="card__number">XXI</div><div data-v-8f3b8972="" class="card__image"></div><div data-v-8f3b8972="" class="card__name">The World</div><div data-v-8f3b8972="" class="card__quote">Harmony</div><div data-v-8f3b8972="" class="card__overlay"><p data-v-8f3b8972="" class="card__overlay__description">Receive a free random asset.</p><!----></div></div>
    //<div data-v-6a09b80d="" class="tarot tarot-draw-ready tab">Tarot</div>
    //<div data-v-6a09b80d="" class="fight team-idle tab">Team</div>
//<button data-v-20ff1bd9="" class="btn-forfeit">Back to Team Management</button>
//<div data-v-0bd90c02="" class="btn-mission__title">Enter Match</div>
    //alert("test");
    setInterval(function(){
        if(jQuery("div.picker__card-list > div.card-XV.card").length) {
            jQuery("div.picker__card-list > div.card-XV.card").click();
            sleep(3000);
        }

        /*if(jQuery("div.picker__item-list div.warpGate").length) {
            jQuery("div.picker__item-list div.warpGate").click();
        }*/

        // Chuse Free Asset
        if(jQuery("div.picker__item-list div.warpGate").length) {
            //alert("1");
            var foundedAsset = false;
            jQuery("div.column-shop div.item__owns").each(function(){
                //alert("Q"+jQuery(this).text()+"Q");
                if(jQuery(this).text() < 201) {
                    //alert(jQuery(this).parent().parent().children(".item__left").children(".item__icon").children("div").attr("class").split(/\s+/)[0]);
                    //return false;
                    //alert(jQuery(this).parent().parent().children(".item__icon").children().attr("class"));
                    var assetName = jQuery(this).parent().parent().children(".item__left").children(".item__icon").children("div").attr("class").split(/\s+/)[0];
                    //alert(assetName + ": " + jQuery(this).text());
                    jQuery("div.picker__item-list div." + assetName).click();
                    foundedAsset = true;
                    return false;
                }
            });

            // Custom Asset Build
            if(!foundedAsset) {
            }

            // if build done - just get Warp Gate
            if(!foundedAsset) {
                jQuery("div.picker__item-list div.warpGate").click();
            }
        }

        if(jQuery("div.column-shop div.upgrade.item").length) {
            jQuery("div.column-shop div.upgrade.item").click();
        }


        if(jQuery(".tarot.tarot-draw-ready.tab").length) {
            jQuery(".tarot.tarot-draw-ready.tab").click();
            sleep(1000);
            if(jQuery(".btn-draw-card").length && jQuery(".btn-draw-card").hasClass("disabled") == false) {
            //alert(jQuery(".btn-draw-card").attr("disabled"));
            //alert(jQuery(".btn-draw-card").hasClass("disabled"));
                jQuery(".btn-draw-card").click();
            }
        }
        else if(jQuery(".fight.team-idle.tab").length) {
            jQuery(".fight.team-idle.tab").click();
            sleep(1000);
            if(jQuery("button.btn-forfeit").length && jQuery("button.btn-forfeit").text() == "Back to Team Management") {
                jQuery("button.btn-forfeit").click();
            }
            sleep(1000);
            if(jQuery(".btn-mission").length) {
                jQuery(".btn-mission").click();
            }
        }
    }, 5000);
})();
